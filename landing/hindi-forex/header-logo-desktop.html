<div style="max-height: 40px; width: 100vw; margin: 0; padding: 0;">
    <div style="width: 150px; margin: 0px 0px 0.5% 5%; padding: 0px; ">
        <a href="https://deriv.com/" target="_blank"><img src="https://static.deriv.com/logos/red-xl.png" alt="Deriv Logo" style="max-height: 32px; object-fit: scale-down; "/></a>
    </div>
</div>
<div id="red-color" style="height: 720px; width: 100vw; background-color: #ff444f; padding: 1% 0 3% 0; ">
    <div id="book-header" style="float: left; padding: 1% 0px;">
        <div style="max-width: 680px;">
            <img src="https://lh3.googleusercontent.com/wN8zYA3r3T8Dfoe0jbmH9CM2dmcc1SjyPzmgoY47ujhYtUZMJisWfSNEVtIwyue5LbX5zlGJKLkrmOwEVpBulUrwfD3INJQTsG8=w517" alt="" >
        </div>
    </div>
    <div style="width:55%; margin: 0.5% 0px; float: right;">
        <div id="white-box-header" style="width: 490px;  background-color: #fff; border: 0px; border-radius: 10px; padding: 1%;  margin-bottom: 25px; margin-left: 15%; box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.08), 0 8px 16px 0 rgba(0, 0, 0, 0.08);">
            <h3 style="margin: 0.7rem 1rem;">आपकी मुफ्त गाइड की</h3>
            <h2 style="margin: 0px 1rem;">फॉरेक्स मार्केट में ट्रेड कैसे करें</h2>
            <p style="margin: 0.5rem 1rem;">अभी मुफ़्त ई-बुक का दावा करें! साथ ही अभ्यास करने के लिए एक मुफ्त डेमो अकाउंट।</p>
            <p style="margin: 0.5rem 1rem 0.7rem 1rem;">यह ई-पुस्तक आपके लिए एक अनुभवी ऑनलाइन ट्रेडर और न्यूयॉर्क टाइम्स के बेस्टसेलिंग लेखक, विंस स्टैनज़ियोन द्वारा लाई गई है।</p>
            <input id="email_input_n1" type="text" placeholder="ईमेल पता" style="width: 90%; padding: 0px 0px 0px 1rem;"/><br/>
            <input type="checkbox" id="ckbx_n1" style="margin: 1rem 0.2rem 0px 1.5rem;"/>
            <label  for="ckbx_n1">
                मैं सहमत हूं <a href="https://eu.deriv.com/terms-and-conditions/#clients" target="_blank" style="color: #ff444f !important;">नियमों और शर्तों से</a>.
            </label><br/>
            <p id="pAgree_n1">Please tick the check for signup</p>
            <button id="myBtn_n1" class="button-signup" type="button">अभी अपनी मुफ्त ईबुक पाएं!</button>
            <p style="color: #999; padding: 0px 10px 20px; font-size: 0.8rem; line-height: 1.2;">
                "अभी अपनी मुफ्त ईबुक पाएं!" दबाकर, आप पुष्टि करते हैं कि आप 18 वर्ष या उससे अधिक उम्र के हैं। आप समझते हैं कि हम आपके ईमेल पते का उपयोग आपको Deriv उत्पादों और सेवाओं के साथ-साथ मार्केट न्यूज़ के बारे में जानकारी भेजने के लिए कर सकते हैं। आप कभी भी अपनी अकाउंट सेटिंग में जाकर इन ईमेल से अनसबस्क्राइब कर सकते हैं। अधिक जानकारी के लिए, कृपया Deriv की सुरक्षा और गोपनीयता पर एक नज़र डालें। <a href="https://deriv.com/tnc/security-and-privacy.pdf" style="color: #ff444f !important;">की सुरक्षा और गोपनीयत</a>
            </p>
            <div style="display: flex; justify-content: space-around;">
                <div style="display: flex; justify-content: space-around; align-items: center;">
                    <div style="width: 100px; border-bottom: 1px solid #999;"></div>
                </div>
                <span style="padding: 0 10px; color: #999;">या साइन अप करें</span>
                <div style="display: flex; justify-content: space-around; align-items: center;">
                    <div style="width: 100px; border-bottom: 1px solid #999;"></div>
                </div>
            </div>
            <div class="social-media-buttons">
                <a class="social-media-login" data-platform="google">
                    <button class="button-google">
                        <img
                    src="https://static.deriv.com/email/images/icons/social-google.png"
                    />                                    <span>Google</span>
                    </button>
                </a>
                <a class="social-media-login" data-platform="facebook">
                    <button class="button-fb">
                        <img
                    src="https://static.deriv.com/email/images/icons/social-facebook-blue.png"
                    />                                    <span>Facebook</span>
                    </button>
                </a>
                <a class="social-media-login" data-platform="apple">
                    <button class="button-apple">
                        <img
                    src="https://static.deriv.com/email/images/icons/social-apple-white.png"
                    />
                        <span>Apple</span>
                    </button>
                </a>
            </div>
        </div>
    </div>
</div>
<script>
    const submit_btn_n1 = document.getElementById("myBtn_n1");
    const ckbx_n1=document.getElementById("ckbx_n1");
    const email_field_n1 =document.getElementById("email_input_n1");
    ckbx_n1.addEventListener("click", fckbx_n1);
    submit_btn_n1.addEventListener("click", f_submit_btn_n1);
    email_field_n1.addEventListener("keyup", f_email_input_errmsg_n1);

    function f_email_input_errmsg_n1() {
        const email = email_field_n1.value;
        if(is_emailValid(email))
            document.getElementById("pEmail_n1").style.display = "none";
        else
            document.getElementById("pEmail_n1").style.display = "block";
    }

    function fckbx_n1() {
        if(ckbx_n1.checked==true){
            document.getElementById("pAgree_n1").style.display = "none";
        }
        else{
            document.getElementById("pAgree_n1").style.display = "block";
        }
    }

    function f_submit_btn_n1() {
        const email = email_field_n1.value;
        if(is_emailValid(email)&&(ckbx_n1.checked==true)) {
            const verify_email_req = getVerifyEmailRequest(email);
            window.ws.send(JSON.stringify(verify_email_req));
        }
        else {
            if(ckbx_n1.checked==false) {
                document.getElementById("pAgree_n1").style.display = "block";
                document.getElementById("pEmail_n1").style.display = "block";
                if(is_emailValid(email)) {
                    document.getElementById("pEmail_n1").style.visibility = "hidden";
                }
            }
            else if(email=='') {
                document.getElementById("pEmail_n1").innerHTML="Please enter your email"
                document.getElementById("pEmail_n1").style.visibility = "visible";
            }
            else  {
                document.getElementById("pEmail_n1").innerHTML="Please enter a valid email"
                document.getElementById("pEmail_n1").style.visibility = "visible";
            }
        }
    }

    function is_emailValid(email) { 
        if (/^\w+([!#$%&'*+-/=?^_`{|}~\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email))
            return (true)
        return (false)
    }

    /// social login
    const getDataLink = (data) => {
        let data_link = "";
        Object.keys(data).forEach((elem) => {
            data_link += `&${elem}=${data[elem]}`;
        });
        return data_link;
    };

    const loginUrl = (platform) => {
        const cookies = getCookiesFields();
        const cookies_objects = getCookiesObject(cookies);
        const cookies_value = getDataObjFromCookies(cookies_objects, cookies);
        const cookies_link = getDataLink(cookies_value);
        const affiliate_tracking = Cookies.getJSON("affiliate_tracking");
        const affiliate_token_link = affiliate_tracking ? `&affiliate_token=${affiliate_tracking}` : "";
        const lang = "hi";
        return `https://oauth.deriv.com/oauth2/authorize?app_id=16929&l=${lang}&brand=deriv&${affiliate_token_link}${cookies_link}&platform=&social_signup=${platform}`;
    };

    window.onload = () => {
        document.querySelectorAll(".social-media-login").forEach((e) => {
            e.addEventListener("click", () => {
            const platform = e.getAttribute("data-platform");
                window.location.href = loginUrl(platform);
            });
        });
    };
</script>